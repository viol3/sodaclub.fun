🧃 sodaclub.fun

SodaClub.fun is a fully serverless, blockchain-powered card game built on Sui.
All game logic (bets, randomness, payouts) is handled on-chain with Move smart contracts, and the Unity frontend communicates directly with the blockchain.

You can play in testnet : https://sodaclub.vercel.app

🚀 <b>Features</b>

🎴 On-Chain Card Game – Commit & reveal mechanism prevents manipulation.<br/>
💸 Serverless – No backend, everything runs on Sui testnet.<br/>
🔒 Fairness by Design – Uses Sui’s randomness + commit–reveal flow to secure outcomes.<br/>
🪙 Betting System – Players stake SUI and get rewards directly on-chain.<br/>
🧩 Unity Integration – Built with Unity & OpenDive Sui Unity SDK.<br/>
🎨 Custom Art – Soda-themed card visuals and stylized assets.<br/>
<br/>
🛠️ <b>Tech Stack</b>

- Smart Contracts: Sui Move<br/>
- Frontend: Unity (C#)<br/>
- SDK: OpenDive’s Sui-Unity-SDK<br/>
- Randomness: sui::random::generate_u8_in_range<br/>
- Architecture: 100% Serverless<br/>
<br/>

🔐 <b>Commit–Reveal Mechanism</b>

To prevent cheating and front-running attacks, the game uses a commit–reveal flow:

1. Commit Phase

Player sends a transaction (commit) with:

- Bet amount
- Chosen card count (input)
- Random seed generated by Sui

The bet is locked inside the CHEST smart contract.

2. Reveal Phase

- Player calls reveal with their previously created Commit object.
- Contract checks the stored diceValue.
- If the outcome is winning, payout is calculated and transferred from the chest.

Example in our code:

- Commit:
<pre><code class="language-rust">
public entry fun commit(r: &Random, chest: &mut CHEST, mut user_coin: Coin&lt;SUI&gt;, input: u8, ctx: &mut TxContext)
</code></pre>

- Reveal:
<pre><code class="language-rust">
entry fun reveal(chest: &mut CHEST, commit: Commit, ctx: &mut TxContext)
</code></pre>
👉 This ensures no one (not even the developer) can predict or change the result after the commit.

<br/>
📂 <b>Project Structure</b>

- Assets/Move/lucky_game → Smart contract logic
- Assets/Scripts/SuiManager.cs → Unity client integration
- Other Assets → Game logic, visuals & sounds
<br/><br/>

⚙️<b>Deployment</b>
<br/>
1. Deploy Move Contract on Sui Testnet
<pre><code class="language-bash">
sui client publish --gas-budget 200000000
</code></pre>
Take note of the package ID. After deployed, go to package in suivision or suiscan, click to Create function to initialize your game's chest. 
Example package : https://testnet.suivision.xyz/package/0x017317c7a076f98ef42819dadb4391766719f56aea04e3d87ffe2f47c8d39a87?tab=Code

2. Update Unity Config
In SuiManager.cs, replace the following with your deployed IDs:
<pre><code class="language-csharp">
[SerializeField] private string _deathCardPackageId = "&lt;YOUR_PACKAGE_ID&gt;";
[SerializeField] private string _deathCardChestId = "&lt;YOUR_CHEST_OBJECT_ID&gt;";
</code></pre>

3. Run Unity Project
<br/>
- Open the Unity project in Unity 6+
- Attach SuiManager to a GameObject
- Press Play and deposit your auto-generated testnet wallet available

4. Get Test SUI
Use the built-in faucet request button or run:
<pre><code class="language-bash">
sui client faucet
</code></pre>
<br/>

🎮 How to Play
<br/>
- Start game → Auto wallet generation.
- Fund wallet → Request SUI from faucet.
- Choose bet → Select bet size (0.1 / 0.25 / 0.5 / 1.0 SUI).
- Pick a card → Select one of 8 cards.
- Reveal → Commit–reveal mechanism resolves result.
- Receive payout → Rewards sent instantly to your wallet.
<br/>
🎨 Assets & Credits
<br/>
- Card Images → MidJourney<br/>
- 3D Assets → Quaternius<br/>
- Sound Effects → Freesound<br/>
<br/>
📬 Contact
<br/>
- For questions, collaborations, or suggestions: https://t.me/astrovaganza
